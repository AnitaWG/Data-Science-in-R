y <- if(x < 3) {
NA
} else {
10
}
h <- function(x, y = NULL, d = 3L) {
z <- cbind(x, d)
if(!is.null(y))
z <- z + y
else
z <- z + f
g <- x + y / z
if(d == 3L)
return(g)
g <- g + 10
g
}
seq_along
??seq_along
install.packages("swirl")
library(swirl)
swirl()
5+7
x <- 5+7
x
y <- x-3
y
z <- c(1.1 , 9, 3.14)
?c
z
c(z,555,z)
z*2 + 100
my_sqrt <- sqrt(z-1)
my_sqrt
my_div <- z/my_sqrt
my_div
c(1:4) + c(0,10)
c(1,2,3,4) +c(0,10)
c(1,2,3,4) + c(0,10,100)
z*2 + 1000
my_div
library(swirl)
swirl()
1:20
pi:10
15:1
:
`:`
?`:`
seq(1,20)
seq(0,10, by=0.5)
my_seq <- seq( 5, 10, length=30 )
length(my_seq)
1:length(my_seq)
seq( along= my_seq)
seq_along( my_seq)
rep( 0 , times= 40)
rep( c(0,1,2), times= 10)
rep( c(0,1,2), each=10)
num_vect <- ( 0.5, 55, -10, 6)
num_vect <- c( 0.5, 55, -10, 6)
tf <- num_vect[ num_vect < 1]
tf <- num_vect < 1
tf
num_vect >= 6
my_char <- c("My","name","is")
my_char
paste( my_char, collapse="")
paste( my_char, collapse=" ")
my_name <- c( my_char, 'dcshallot')
my_name
paste( my_name, collapse=" ")
paste("Hello", "world!", sep=" ")
paste( c("X","Y","Z"), sep="")
paste( 1:3,c("X","Y","Z"), sep="")
paste( LETTERS, 1:4, sep="-")
x <- c( 44, NA, 5, AN)
x <- c( 44, NA, 5, NA)
x * 3
y <- rnorm(1000)
z <- rep( NA, 1000)
my_data <- sample( c(y, z) , 100 )
my_na <- is.na( my_data)
my_na
my_data == NA
sum( my_data)
sum( is.na(my_data))
sum( my_na)
my_data
0.0
0/0
Inf[Inf]
Inf-Inf
x
x[1:10]
x[ is.na(x)]
y <- x[!is.na(x)]
y
y[y>0]
x[x>0]
x [!is.na(x) & x >0 ]
x[c(3,5,7)]
x[0]
x[3000]
x[ c(-2,-10)]
x[-c(2,10)]
vect <- c(foo=11, bar=2, norf=NA)
vect
names(vect)
vect2 <- c(11,2,NA)
names(vect2) <- c("foo","bar","norf")
identical( vect ,vect2)
vect["bar"]
vect[c("foo", "bar")]
my_vector <- 1:20
my_vector
dim(my_vector)
length(my_vector)
dim(my_vector) <- c(4,5)
dim(my_vector)
attributes( my_vector)
my_vector
class(my_vecotr)
class(my_vecotor)
class(my_vector)
my_matrix <- my_vector
?matrix()
?matrix
my_matrix2 <- matrix( 1:20, nrow=4, ncol=5)
identical( my_matrix, my_matrix2)
patients <- c("Bill","Gina","Kelly","Sean")
cbind( patients, my_matrix)
my_data <- data.frame( patients, my_matrix)
my_data
class(my_data)
cnames <- c("patient", "age", "weight", "bp", "rating", "test")
colnames(my_data)
colnames(my_data) <- cnames
my_data
1
swirl()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
pollutantmean <- function(directory, pollutant, id = 1:332) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}
v <- ifelse( pollutant =="sulfate", 2, 3)
m <-  mean( data[ data$ID %in% id ,  v], na.rm= T )
return(m)
}
submit()
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}
head(data)
data1 <-  data[ data$ID %in% id & !is.na(data$sulfate) & !is.na(data$nitrate) , ]
id <- 1:3
data1 <-  data[ data$ID %in% id & !is.na(data$sulfate) & !is.na(data$nitrate) , ]
View(data1)
View(data1)
head(data1)
library(sqldf)
data2 <- sqldf( "select ID as id, count(ID) as nobs from data1 group by ID")
View(data2)
complete <- function(directory, id = 1:332) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}
head(data1)
data1 <-  data[ data$ID %in% id & !is.na(data$sulfate) & !is.na(data$nitrate) , ]
library(sqldf)
data2 <- sqldf( "select ID as id, count(ID) as nobs from data1 group by ID")
return(data2)
}
complete("specdata", 1)
omplete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", c(2, 4, 8, 10, 12))
setwd("~/Desktop/datasciencecoursera")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
source("http://d396qusza40orc.cloudfront.net/rprog%2Fscripts%2Fsubmitscript1.R")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
is.na(data[1,])
is.na(data[1,])==T
if( is.na(data[1,])==T )
if( is.na(data[1,])==T ,1,0)
if( is.na(data[1,])==T ) {1,0}
ifelse( is.na(data[1,])==T ,1,0)
data <- complete("specdata")
View(data)
View(data)
View(data)
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
directory <- "specdata"
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}
data1 <-  data[  !is.na(data$sulfate) & !is.na(data$nitrate) , ]
View(data1)
data2 <- data1[1:10000000,]
View(data2)
corr(data1[1:10 ,c(2,3)])
cor(data1[1:10 ,c(2,3)])
comp <- complete("specdata")
View(comp)
id <- comp[ comp$nobs >= threshold ,1]
threshold <- 100
id <- comp[ comp$nobs >= threshold ,1]
threshold <- 1000
id <- comp[ comp$nobs >= threshold ,1]
corr <- vector( id)
corr <- vector( length= id)
corr <- vector( length= length(id) )
for ( i in id) {
corr[i] <- cor( data[ data$ID == i, c(2,3)])
}
id <- comp[ comp$nobs >= threshold ,1]
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor( data[ data$ID == i, c(2,3)])
}
for ( i in id)  {
corr[i] <- cor( data[ data$ID == id[i], c(2,3)])
}
corr <- vector( length= length(id) )
head(data)
data[ data$ID == id[i], c(2,3)]
head(data)
id[i]
id <- comp[ comp$nobs >= threshold ,1]
id <- comp[ comp$nobs >= threshold ,1]
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor( data[ data$ID == id[i], c(2,3)])
}
id[i]
data$ID == id[i]
data[ data$ID ==248,]
head(data)
id <- comp[ comp$nobs >= threshold ,1]
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)])
}
data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)]
a <- data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)]
cor(a)
a <- data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)][1,1]
a <- data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)][1,1]
a <- data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)]
View(a)
cor(a)
cor(a)[1,2]
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i] & !is.na(data$sulfate) & !is.na(data$nitrate), c(2,3)]) [1,2]
}
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ]
threshold <- 10000000
id <- comp[ comp$nobs >= threshold ,1]
length(id)
corr <- function(directory, threshold = 0) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i] & , c(2,3)]) [1,2]
}
return(corr)
} else { corr <- NA}
}
corr <- function(directory, threshold = 0) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i], c(2,3)]) [1,2]
}
return(corr)
} else { corr <- NA}
}
cr <- corr("specdata", 150)
head(cr)
threshold <- 150
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i], c(2,3)]) [1,2]
}
return(corr)
}
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i], c(2,3)]) [1,2]
}
}
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(
data[ data$ID == id[i], c(2,3)]) [1,2]
}
cor(
data[ data$ID == id[i], c(2,3)])
cor(
data[ data$ID == id[i], c(2,3)]) [1,2]
class( cor(
data[ data$ID == id[i], c(2,3)]) [1,2] )
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
corr <- vector( length= length(id) )
for ( i in length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
corr <- function(directory, threshold = 0) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
}
cr <- corr("specdata", 150)
head(cr)
head(cr)
corr <- function(directory, threshold = 0) {
d <- paste( "~/Desktop/datasciencecoursera/", directory,"/" ,sep="" )
setwd( d)
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
}
cr <- corr("specdata", 150)
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
setwd("~/Desktop/datasciencecoursera/specdata")
setwd("~/Desktop/datasciencecoursera/specdata")
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
corr <- function(directory, threshold = 0) {
setwd("~/Desktop/datasciencecoursera/specdata")
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
}
cr <- corr("specdata", 150)
corr <- function(directory, threshold = 0) {
setwd("~/Desktop/datasciencecoursera/specdata")
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
browser()
}
cr <- corr("specdata", 150)
head(data)
head(comp)
id
head(corr)
corr <- function(directory, threshold = 0) {
setwd("~/Desktop/datasciencecoursera/specdata")
title <- list.files(pattern = "*.csv")
data <- read.csv(title[1])
for (i in 2:(length(title))) {
tb <- read.csv(title[i] ) ; data <- rbind(data, tb)
}  # input raw data
data <- data[ !is.na(data$sulfate) & !is.na(data$nitrate), ] # na.rm
comp <- complete("specdata") # threshold selection
id <- comp[ comp$nobs >= threshold ,1]
if ( length(id) > 0 ) {
corr <- vector( length= length(id) )
for ( i in 1: length(id))  {
corr[i] <- cor(  data[ data$ID == id[i], c(2,3)]) [1,2]
}
} else { corr <- NA}
return(corr)
}
cr <- corr("specdata", 150)
head(cr)
setwd("~/Desktop/datasciencecoursera")
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
submit()
setwd("~/Desktop/datasciencecoursera")
submit()
